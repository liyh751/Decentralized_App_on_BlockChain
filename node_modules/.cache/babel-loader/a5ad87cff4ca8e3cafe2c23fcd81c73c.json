{"ast":null,"code":"var _jsxFileName = \"/Users/zhuyihan/Downloads/patronus/src/PatronusKingdom.js\";\nimport React, { Component } from 'react';\nimport PatronusCard from \"./PatronusCard\";\nimport './static/ZombiePreview.css';\nimport MyWeb3 from './MyWeb3';\nimport { BrowserRouter as Route, Link } from \"react-router-dom\";\nimport Page from \"./Page\";\n\nclass PatronusKingdom extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      patronusCount: \"\",\n      patronuss: []\n    };\n  }\n\n  componentDidMount() {\n    let that = this;\n    let ethereum = window.ethereum;\n\n    if (typeof ethereum !== 'undefined' || typeof window.web3 !== 'undefined') {\n      MyWeb3.init().then(function (res) {\n        that.patronusKingdom();\n      });\n    } else {\n      alert('You have to install MetaMask !');\n    }\n  }\n\n  patronusKingdom() {\n    let that = this;\n    MyWeb3.patronusCount().then(function (result) {\n      if (result > 0) {\n        for (let i = 0; i < result; i++) {\n          MyWeb3.patronuss(i).then(function (result) {\n            let _patronuss = that.state.patronuss;\n            result.patronusId = i;\n\n            _patronuss.push(result);\n\n            that.setState({\n              patronuss: _patronuss\n            });\n          });\n        }\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  render() {\n    if (this.state.patronuss.length > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cards\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, this.state.patronuss.map((item, index) => {\n        var name = item.name;\n        var level = item.level;\n        return /*#__PURE__*/React.createElement(Link, {\n          to: `?PatronusDetail&id=` + item.patronusId,\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(PatronusCard, {\n          patronus: item,\n          name: name,\n          level: level,\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }\n        }));\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"*\",\n        component: Page,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 22\n        }\n      });\n    }\n  }\n\n}\n\nexport default PatronusKingdom;","map":{"version":3,"names":["React","Component","PatronusCard","MyWeb3","BrowserRouter","Route","Link","Page","PatronusKingdom","constructor","props","state","patronusCount","patronuss","componentDidMount","that","ethereum","window","web3","init","then","res","patronusKingdom","alert","result","i","_patronuss","patronusId","push","setState","componentWillUnmount","callback","render","length","map","item","index","name","level"],"sources":["/Users/zhuyihan/Downloads/patronus/src/PatronusKingdom.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport PatronusCard from \"./PatronusCard\";\r\nimport './static/ZombiePreview.css';\r\nimport MyWeb3 from './MyWeb3'\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport Page from \"./Page\";\r\n\r\nclass PatronusKingdom extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { patronusCount:\"\",patronuss:[] }\r\n    }\r\n        \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.patronusKingdom()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n \r\n    patronusKingdom(){\r\n        let that = this\r\n        MyWeb3.patronusCount().then(function(result){\r\n            if(result > 0){\r\n                for(let i=0;i<result;i++){\r\n                    MyWeb3.patronuss(i).then(function (result) {\r\n                        let _patronuss = that.state.patronuss\r\n                        result.patronusId = i\r\n                        _patronuss.push(result);\r\n                        that.setState({patronuss:_patronuss})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState = (state, callback) => {\r\n            return\r\n        }\r\n    }\r\n    render() { \r\n        if(this.state.patronuss.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.patronuss.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={`?PatronusDetail&id=`+item.patronusId} key={index}>\r\n                                <PatronusCard patronus={item} name={name} level={level} key={index}></PatronusCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"*\" component={Page}></Route>\r\n                </div> \r\n            )\r\n        }else{\r\n            return ( <div></div>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default PatronusKingdom;"],"mappings":"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"},"metadata":{},"sourceType":"module"}