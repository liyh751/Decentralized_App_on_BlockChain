{"ast":null,"code":"import Web3 from \"web3\";\nimport abi from './CatCore.json';\nimport ContractAddress from './ContractAddress';\nconst MyWeb3 = {\n  init() {\n    /*\r\n    '1': Ethereum Main Network\r\n    '2': Morden Test network\r\n    '3': Ropsten Test Network\r\n    '4': Rinkeby Test Network\r\n    '5': Goerli Test Network\r\n    '42': Kovan Test Network\r\n    */\n    return new Promise((resolve, reject) => {\n      //let currentChainId = parseInt(window.ethereum.chainId, 16)\n      let ethereum = window.ethereum; //禁止自动刷新，metamask要求写的\n\n      ethereum.autoRefreshOnNetworkChange = false; //开始调用metamask\n\n      ethereum.enable().then(function (accounts) {\n        //初始化provider\n        let provider = window['ethereum'] || window.web3.currentProvider; //初始化Web3\n\n        window.web3 = new Web3(provider); //获取到当前以太坊网络id\n\n        window.web3.eth.net.getId().then(function (result) {\n          let currentChainId = result; //设置最大监听器数量，否则出现warning\n\n          window.web3.currentProvider.setMaxListeners(300); //从json获取到当前网络id下的合约地址\n\n          let currentContractAddress = ContractAddress[currentChainId];\n\n          if (currentContractAddress !== undefined) {\n            //实例化合约\n            window.MyContract = new window.web3.eth.Contract(abi.abi, currentContractAddress); //获取到当前默认的以太坊地址\n\n            window.defaultAccount = accounts[0].toLowerCase(); //that.allEvents(window.MyContract)\n\n            resolve(true);\n          } else {\n            reject('Unknow Your ChainId:' + currentChainId);\n          }\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n  },\n\n  //僵尸总量\n  patronusCount() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.catCount().call().then(function (patronusCount) {\n        resolve(patronusCount);\n      });\n    });\n  },\n\n  //获得单个僵尸数据\n  patronuss(patronusId) {\n    return new Promise((resolve, reject) => {\n      if (patronusId >= 0) {\n        window.MyContract.methods.cats(patronusId).call().then(function (patronuss) {\n          resolve(patronuss);\n        });\n      }\n    });\n  },\n\n  //获得僵尸拥有者地址\n  patronusToOwner(patronusId) {\n    return new Promise((resolve, reject) => {\n      if (patronusId >= 0) {\n        window.MyContract.methods.catToOwner(patronusId).call().then(function (patronuss) {\n          resolve(patronuss.toLowerCase());\n        });\n      }\n    });\n  },\n\n  //获得当前用户的所有僵尸id\n  getPatronussByOwner() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.getCatsByOwner(window.defaultAccount).call().then(function (patronuss) {\n        resolve(patronuss);\n      });\n    });\n  },\n\n  //创建随机僵尸\n  createPatronus(_name) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.createRandomCat(_name).send({\n        from: window.defaultAccount\n      }).on('transactionHash', function (transactionHash) {\n        resolve(transactionHash);\n      }).on('confirmation', function (confirmationNumber, receipt) {\n        console.log({\n          confirmationNumber: confirmationNumber,\n          receipt: receipt\n        });\n      }).on('receipt', function (receipt) {\n        console.log({\n          receipt: receipt\n        });\n        window.location.reload();\n      }).on('error', function (error, receipt) {\n        console.log({\n          error: error,\n          receipt: receipt\n        });\n        reject({\n          error: error,\n          receipt: receipt\n        });\n      });\n    });\n  },\n\n  //购买僵尸\n  buyPatronus(_name) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.catPrice().call().then(function (patronusPrice) {\n        window.MyContract.methods.buyRandomCat(_name).send({\n          from: window.defaultAccount,\n          value: patronusPrice\n        }).on('transactionHash', function (transactionHash) {\n          resolve(transactionHash);\n        }).on('confirmation', function (confirmationNumber, receipt) {\n          console.log({\n            confirmationNumber: confirmationNumber,\n            receipt: receipt\n          });\n        }).on('receipt', function (receipt) {\n          console.log({\n            receipt: receipt\n          });\n          window.location.reload();\n        }).on('error', function (error, receipt) {\n          console.log({\n            error: error,\n            receipt: receipt\n          });\n          reject({\n            error: error,\n            receipt: receipt\n          });\n        });\n      });\n    });\n  },\n\n  //  Patronus love \n  sendGift(_patronusId, _targetId) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.sendGift(_patronusId, _targetId).send({\n        from: window.defaultAccount\n      }).on('transactionHash', function (transactionHash) {\n        resolve(transactionHash);\n      }).on('confirmation', function (confirmationNumber, receipt) {\n        console.log({\n          confirmationNumber: confirmationNumber,\n          receipt: receipt\n        });\n      }).on('receipt', function (receipt) {\n        console.log({\n          receipt: receipt\n        });\n        window.location.reload();\n      }).on('error', function (error, receipt) {\n        console.log({\n          error: error,\n          receipt: receipt\n        });\n        reject({\n          error: error,\n          receipt: receipt\n        });\n      });\n    });\n  },\n\n  visit(_patronusId, _targetId) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.visit(_patronusId, _targetId).send({\n        from: window.defaultAccount\n      }).on('transactionHash', function (transactionHash) {\n        resolve(transactionHash);\n      }).on('confirmation', function (confirmationNumber, receipt) {\n        console.log({\n          confirmationNumber: confirmationNumber,\n          receipt: receipt\n        });\n      }).on('receipt', function (receipt) {\n        console.log({\n          receipt: receipt\n        });\n        window.location.reload();\n      }).on('error', function (error, receipt) {\n        console.log({\n          error: error,\n          receipt: receipt\n        });\n        reject({\n          error: error,\n          receipt: receipt\n        });\n      });\n    });\n  },\n\n  //僵尸对战\n  // attack(_catId,_targetId){\n  //     return new Promise((resolve, reject) => {\n  //         window.MyContract.methods.attack(_catId,_targetId).send({from:window.defaultAccount})\n  //         .on('transactionHash', function(transactionHash){\n  //             resolve(transactionHash)\n  //         })\n  //         .on('confirmation', function(confirmationNumber, receipt){\n  //             console.log({confirmationNumber:confirmationNumber,receipt:receipt})\n  //         })\n  //         .on('receipt', function(receipt){\n  //             console.log({receipt:receipt})\n  //             window.location.reload()\n  //         })\n  //         .on('error', function(error,receipt){\n  //             console.log({error:error,receipt:receipt})\n  //             reject({error:error,receipt:receipt})\n  //         })\n  //     })\n  // },\n  //僵尸改名\n  changeName(_patronusId, _name) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.changeName(_patronusId, _name).send({\n        from: window.defaultAccount\n      }).on('transactionHash', function (transactionHash) {\n        resolve(transactionHash);\n      }).on('confirmation', function (confirmationNumber, receipt) {\n        console.log({\n          confirmationNumber: confirmationNumber,\n          receipt: receipt\n        });\n      }).on('receipt', function (receipt) {\n        console.log({\n          receipt: receipt\n        });\n        window.location.reload();\n      }).on('error', function (error, receipt) {\n        console.log({\n          error: error,\n          receipt: receipt\n        });\n        reject({\n          error: error,\n          receipt: receipt\n        });\n      });\n    });\n  },\n\n  //僵尸喂食\n  feed(_patronusId) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.feed(_patronusId).send({\n        from: window.defaultAccount\n      }).on('transactionHash', function (transactionHash) {\n        resolve(transactionHash);\n      }).on('confirmation', function (confirmationNumber, receipt) {\n        console.log({\n          confirmationNumber: confirmationNumber,\n          receipt: receipt\n        });\n      }).on('receipt', function (receipt) {\n        console.log({\n          receipt: receipt\n        });\n        window.location.reload();\n      }).on('error', function (error, receipt) {\n        console.log({\n          error: error,\n          receipt: receipt\n        });\n        reject({\n          error: error,\n          receipt: receipt\n        });\n      });\n    });\n  },\n\n  //僵尸付费升级\n  levelUp(_patronusId) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.levelUpFee().call().then(function (levelUpFee) {\n        window.MyContract.methods.levelUp(_patronusId).send({\n          from: window.defaultAccount,\n          value: levelUpFee\n        }).on('transactionHash', function (transactionHash) {\n          resolve(transactionHash);\n        }).on('confirmation', function (confirmationNumber, receipt) {\n          console.log({\n            confirmationNumber: confirmationNumber,\n            receipt: receipt\n          });\n        }).on('receipt', function (receipt) {\n          console.log({\n            receipt: receipt\n          });\n          window.location.reload();\n        }).on('error', function (error, receipt) {\n          console.log({\n            error: error,\n            receipt: receipt\n          });\n          reject({\n            error: error,\n            receipt: receipt\n          });\n        });\n      });\n    });\n  },\n\n  //获取僵尸喂食次数\n  patronusFeedTimes(_patronusId) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.catFeedTimes(_patronusId).call().then(function (patronusFeedTimes) {\n        resolve(patronusFeedTimes);\n      });\n    });\n  },\n\n  // hairballcount(_patronusId){\n  //     return new Promise((resolve, reject) => {\n  //         window.MyContract.methods.catFeedTimes(_patronusId).call().then(function(patronusFeedTimes) {\n  //             resolve(patronusFeedTimes)\n  //         })\n  //     })\n  // },\n  //获取最低售价\n  minPrice() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.minPrice().call().then(function (minPrice) {\n        resolve(window.web3.utils.fromWei(minPrice, 'ether'));\n      });\n    });\n  },\n\n  //获取税金\n  tax() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.tax().call().then(function (tax) {\n        resolve(window.web3.utils.fromWei(tax, 'ether'));\n      });\n    });\n  },\n\n  //出售我的僵尸\n  saleMyPatronus(_patronusId, _price) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.saleMyCat(_patronusId, window.web3.utils.toWei(_price.toString())).send({\n        from: window.defaultAccount\n      }).on('transactionHash', function (transactionHash) {\n        resolve(transactionHash);\n      }).on('confirmation', function (confirmationNumber, receipt) {\n        console.log({\n          confirmationNumber: confirmationNumber,\n          receipt: receipt\n        });\n      }).on('receipt', function (receipt) {\n        console.log({\n          receipt: receipt\n        });\n        window.location.reload();\n      }).on('error', function (error, receipt) {\n        console.log({\n          error: error,\n          receipt: receipt\n        });\n        reject({\n          error: error,\n          receipt: receipt\n        });\n      });\n    });\n  },\n\n  //获得商店里僵尸数据\n  patronusShop(_patronusId) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.catShop(_patronusId).call().then(function (shopInfo) {\n        shopInfo.price = window.web3.utils.fromWei(shopInfo.price, 'ether');\n        resolve(shopInfo);\n      });\n    });\n  },\n\n  //获得商店所有僵尸\n  getShopPatronuss() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.getShopCats().call().then(function (patronusIds) {\n        resolve(patronusIds);\n      });\n    });\n  },\n\n  //购买商店里的僵尸\n  buyShopPatronus(_patronusId, _price) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.buyShopCat(_patronusId).send({\n        from: window.defaultAccount,\n        value: window.web3.utils.toWei(_price.toString())\n      }).on('transactionHash', function (transactionHash) {\n        resolve(transactionHash);\n      }).on('confirmation', function (confirmationNumber, receipt) {\n        console.log({\n          confirmationNumber: confirmationNumber,\n          receipt: receipt\n        });\n      }).on('receipt', function (receipt) {\n        console.log({\n          receipt: receipt\n        });\n        window.location.reload();\n      }).on('error', function (error, receipt) {\n        console.log({\n          error: error,\n          receipt: receipt\n        });\n        reject({\n          error: error,\n          receipt: receipt\n        });\n      });\n    });\n  },\n\n  //获得合约拥有者地址\n  owner() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.owner().call().then(function (owner) {\n        resolve(owner.toLowerCase());\n      });\n    });\n  },\n\n  //获得合约名称\n  name() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.name().call().then(function (name) {\n        resolve(name);\n      });\n    });\n  },\n\n  //获得合约标识\n  symbol() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.symbol().call().then(function (symbol) {\n        resolve(symbol);\n      });\n    });\n  },\n\n  //查询余额\n  checkBalance() {\n    return new Promise((resolve, reject) => {\n      this.owner().then(function (owner) {\n        if (window.defaultAccount === owner) {\n          window.MyContract.methods.checkBalance().call({\n            from: window.defaultAccount\n          }).then(function (balance) {\n            resolve(window.web3.utils.fromWei(balance, 'ether'));\n          });\n        } else {\n          reject('You are not contract owner');\n        }\n      });\n    });\n  },\n\n  //设置攻击胜率\n  // setAttackVictoryProbability(_attackVictoryProbability){\n  //     return new Promise((resolve, reject) => {\n  //         window.MyContract.methods.setAttackVictoryProbability(_attackVictoryProbability).send({from:window.defaultAccount})\n  //         .then(function(result) {\n  //             resolve(result)\n  //         })\n  //     })\n  // },\n  //获得升级费\n  levelUpFee() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.levelUpFee().call().then(function (levelUpFee) {\n        resolve(window.web3.utils.fromWei(levelUpFee, 'ether'));\n      });\n    });\n  },\n\n  //设置升级费\n  setLevelUpFee(_fee) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.setLevelUpFee(window.web3.utils.toWei(_fee.toString())).send({\n        from: window.defaultAccount\n      }).then(function (result) {\n        resolve(result);\n      });\n    });\n  },\n\n  //设置最低售价\n  setMinPrice(_value) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.setMinPrice(window.web3.utils.toWei(_value.toString())).send({\n        from: window.defaultAccount\n      }).then(function (result) {\n        resolve(result);\n      });\n    });\n  },\n\n  //获得僵尸售价\n  patronusPrice() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.catPrice().call().then(function (patronusPrice) {\n        resolve(window.web3.utils.fromWei(patronusPrice, 'ether'));\n      });\n    });\n  },\n\n  //设置僵尸售价\n  setPatronusPrice(_value) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.setCatPrice(window.web3.utils.toWei(_value.toString())).send({\n        from: window.defaultAccount\n      }).then(function (result) {\n        resolve(result);\n      });\n    });\n  },\n\n  //设置税金\n  setTax(_value) {\n    return new Promise((resolve, reject) => {\n      window.MyContract.methods.setTax(window.web3.utils.toWei(_value.toString())).send({\n        from: window.defaultAccount\n      }).then(function (result) {\n        resolve(result);\n      });\n    });\n  },\n\n  //提款\n  withdraw() {\n    return new Promise((resolve, reject) => {\n      this.owner().then(function (owner) {\n        if (window.defaultAccount === owner) {\n          window.MyContract.methods.withdraw().send({\n            from: window.defaultAccount\n          }).then(function (res) {\n            resolve(res);\n          });\n        } else {\n          reject('You are not contract owner');\n        }\n      });\n    });\n  },\n\n  //新僵尸事件\n  EventNewPatronus() {\n    return window.MyContract.events.NewCat({}, {\n      fromBlock: 0,\n      toBlock: 'latest'\n    });\n  },\n\n  //出售僵尸事件\n  EventSalePatronus() {\n    return new Promise((resolve, reject) => {\n      window.MyContract.events.SaleCat({\n        fromBlock: 0,\n        toBlock: 'latest'\n      }, function (error, event) {\n        resolve(event);\n      });\n    });\n  },\n\n  //所有事件\n  allEvents() {\n    window.MyContract.events.allEvents({\n      fromBlock: 0\n    }, function (error, event) {\n      console.log({\n        allEvents: event\n      });\n    }).on(\"connected\", function (subscriptionId) {\n      console.log({\n        connected_subscriptionId: subscriptionId\n      });\n    }).on('data', function (event) {\n      console.log({\n        event_data: event\n      });\n    }).on('changed', function (event) {\n      console.log({\n        event_changed: event\n      });\n    }).on('error', function (error, receipt) {\n      console.log({\n        event_error: error,\n        receipt: receipt\n      });\n    });\n  }\n\n};\nexport default MyWeb3;","map":{"version":3,"names":["Web3","abi","ContractAddress","MyWeb3","init","Promise","resolve","reject","ethereum","window","autoRefreshOnNetworkChange","enable","then","accounts","provider","web3","currentProvider","eth","net","getId","result","currentChainId","setMaxListeners","currentContractAddress","undefined","MyContract","Contract","defaultAccount","toLowerCase","catch","error","console","log","patronusCount","methods","catCount","call","patronuss","patronusId","cats","patronusToOwner","catToOwner","getPatronussByOwner","getCatsByOwner","createPatronus","_name","createRandomCat","send","from","on","transactionHash","confirmationNumber","receipt","location","reload","buyPatronus","catPrice","patronusPrice","buyRandomCat","value","sendGift","_patronusId","_targetId","visit","changeName","feed","levelUp","levelUpFee","patronusFeedTimes","catFeedTimes","minPrice","utils","fromWei","tax","saleMyPatronus","_price","saleMyCat","toWei","toString","patronusShop","catShop","shopInfo","price","getShopPatronuss","getShopCats","patronusIds","buyShopPatronus","buyShopCat","owner","name","symbol","checkBalance","balance","setLevelUpFee","_fee","setMinPrice","_value","setPatronusPrice","setCatPrice","setTax","withdraw","res","EventNewPatronus","events","NewCat","fromBlock","toBlock","EventSalePatronus","SaleCat","event","allEvents","subscriptionId","connected_subscriptionId","event_data","event_changed","event_error"],"sources":["/Users/zhuyihan/Downloads/patronus/src/MyWeb3.js"],"sourcesContent":["import Web3 from \"web3\";\r\nimport abi from './CatCore.json'\r\nimport ContractAddress from './ContractAddress'\r\n\r\nconst MyWeb3 ={\r\n    init() {\r\n        /*\r\n        '1': Ethereum Main Network\r\n        '2': Morden Test network\r\n        '3': Ropsten Test Network\r\n        '4': Rinkeby Test Network\r\n        '5': Goerli Test Network\r\n        '42': Kovan Test Network\r\n        */\r\n        return new Promise((resolve, reject) => {\r\n            //let currentChainId = parseInt(window.ethereum.chainId, 16)\r\n            let ethereum = window.ethereum\r\n            //禁止自动刷新，metamask要求写的\r\n            ethereum.autoRefreshOnNetworkChange = false\r\n            //开始调用metamask\r\n            ethereum.enable().then(function (accounts) {\r\n                //初始化provider\r\n                let provider = window['ethereum'] || window.web3.currentProvider\r\n                //初始化Web3\r\n                window.web3 = new Web3(provider)\r\n                //获取到当前以太坊网络id\r\n                window.web3.eth.net.getId().then(function (result) {\r\n                    let currentChainId = result\r\n                    //设置最大监听器数量，否则出现warning\r\n                    window.web3.currentProvider.setMaxListeners(300)\r\n                    //从json获取到当前网络id下的合约地址\r\n                    let currentContractAddress = ContractAddress[currentChainId]\r\n                    if(currentContractAddress !== undefined){\r\n                        //实例化合约\r\n                        window.MyContract = new window.web3.eth.Contract(abi.abi,currentContractAddress)\r\n                        //获取到当前默认的以太坊地址\r\n                        window.defaultAccount = accounts[0].toLowerCase()\r\n                        //that.allEvents(window.MyContract)\r\n                        resolve(true)\r\n                    }else{\r\n                        reject('Unknow Your ChainId:'+currentChainId)\r\n                    }\r\n                })\r\n            }).catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        })\r\n    },\r\n    //僵尸总量\r\n    patronusCount() {\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.catCount().call().then(function(patronusCount) {\r\n                resolve(patronusCount)\r\n            })\r\n        })\r\n    },\r\n    //获得单个僵尸数据\r\n    patronuss(patronusId){\r\n        return new Promise((resolve, reject) => {\r\n            if(patronusId>=0){\r\n                window.MyContract.methods.cats(patronusId).call().then(function(patronuss) {\r\n                    resolve(patronuss)\r\n                })\r\n            }\r\n        })\r\n    },\r\n    //获得僵尸拥有者地址\r\n    patronusToOwner(patronusId){\r\n        return new Promise((resolve, reject) => {\r\n            if(patronusId>=0){\r\n                window.MyContract.methods.catToOwner(patronusId).call().then(function(patronuss) {\r\n                    resolve(patronuss.toLowerCase())\r\n                })\r\n            }\r\n        })\r\n    },\r\n    //获得当前用户的所有僵尸id\r\n    getPatronussByOwner(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.getCatsByOwner(window.defaultAccount).call().then(function(patronuss) {\r\n                resolve(patronuss)\r\n            })\r\n        })\r\n    },\r\n    //创建随机僵尸\r\n    createPatronus(_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.createRandomCat(_name).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //购买僵尸\r\n    buyPatronus(_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.catPrice().call().then(function(patronusPrice) {\r\n                window.MyContract.methods.buyRandomCat(_name).send({from:window.defaultAccount,value:patronusPrice})\r\n                .on('transactionHash', function(transactionHash){\r\n                    resolve(transactionHash)\r\n                })\r\n                .on('confirmation', function(confirmationNumber, receipt){\r\n                    console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n                })\r\n                .on('receipt', function(receipt){\r\n                    console.log({receipt:receipt})\r\n                    window.location.reload()\r\n                })\r\n                .on('error', function(error,receipt){\r\n                    console.log({error:error,receipt:receipt})\r\n                    reject({error:error,receipt:receipt})\r\n                })\r\n            })\r\n        })\r\n    },\r\n    //  Patronus love \r\n    sendGift(_patronusId, _targetId){\r\n            return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.sendGift(_patronusId,_targetId).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n\r\n    visit(_patronusId, _targetId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.visit(_patronusId,_targetId).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //僵尸对战\r\n    // attack(_catId,_targetId){\r\n    //     return new Promise((resolve, reject) => {\r\n    //         window.MyContract.methods.attack(_catId,_targetId).send({from:window.defaultAccount})\r\n    //         .on('transactionHash', function(transactionHash){\r\n    //             resolve(transactionHash)\r\n    //         })\r\n    //         .on('confirmation', function(confirmationNumber, receipt){\r\n    //             console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n    //         })\r\n    //         .on('receipt', function(receipt){\r\n    //             console.log({receipt:receipt})\r\n    //             window.location.reload()\r\n    //         })\r\n    //         .on('error', function(error,receipt){\r\n    //             console.log({error:error,receipt:receipt})\r\n    //             reject({error:error,receipt:receipt})\r\n    //         })\r\n    //     })\r\n    // },\r\n    //僵尸改名\r\n    changeName(_patronusId,_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.changeName(_patronusId,_name).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //僵尸喂食\r\n    feed(_patronusId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.feed(_patronusId).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //僵尸付费升级\r\n    levelUp(_patronusId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.levelUpFee().call().then(function(levelUpFee) {\r\n                window.MyContract.methods.levelUp(_patronusId).send({from:window.defaultAccount,value:levelUpFee})\r\n                .on('transactionHash', function(transactionHash){\r\n                    resolve(transactionHash)\r\n                })\r\n                .on('confirmation', function(confirmationNumber, receipt){\r\n                    console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n                })\r\n                .on('receipt', function(receipt){\r\n                    console.log({receipt:receipt})\r\n                    window.location.reload()\r\n                })\r\n                .on('error', function(error,receipt){\r\n                    console.log({error:error,receipt:receipt})\r\n                    reject({error:error,receipt:receipt})\r\n                })\r\n            })\r\n        })\r\n    },\r\n    //获取僵尸喂食次数\r\n    patronusFeedTimes(_patronusId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.catFeedTimes(_patronusId).call().then(function(patronusFeedTimes) {\r\n                resolve(patronusFeedTimes)\r\n            })\r\n        })\r\n    },\r\n\r\n    // hairballcount(_patronusId){\r\n    //     return new Promise((resolve, reject) => {\r\n    //         window.MyContract.methods.catFeedTimes(_patronusId).call().then(function(patronusFeedTimes) {\r\n    //             resolve(patronusFeedTimes)\r\n    //         })\r\n    //     })\r\n    // },\r\n    //获取最低售价\r\n    minPrice(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.minPrice().call().then(function(minPrice) {\r\n                resolve(window.web3.utils.fromWei(minPrice,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //获取税金\r\n    tax(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.tax().call().then(function(tax) {\r\n                resolve(window.web3.utils.fromWei(tax,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //出售我的僵尸\r\n    saleMyPatronus(_patronusId,_price){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.saleMyCat(_patronusId,window.web3.utils.toWei(_price.toString())).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //获得商店里僵尸数据\r\n    patronusShop(_patronusId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.catShop(_patronusId).call().then(function(shopInfo) {\r\n                shopInfo.price = window.web3.utils.fromWei(shopInfo.price,'ether')\r\n                resolve(shopInfo)\r\n            })\r\n        })\r\n    },\r\n    //获得商店所有僵尸\r\n    getShopPatronuss(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.getShopCats().call().then(function(patronusIds) {\r\n                resolve(patronusIds)\r\n            })\r\n        })\r\n    },\r\n    //购买商店里的僵尸\r\n    buyShopPatronus(_patronusId,_price){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.buyShopCat(_patronusId).send({from:window.defaultAccount,value:window.web3.utils.toWei(_price.toString())})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //获得合约拥有者地址\r\n    owner(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.owner().call().then(function(owner) {\r\n                resolve(owner.toLowerCase())\r\n            })\r\n        })\r\n    },\r\n    //获得合约名称\r\n    name(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.name().call().then(function(name) {\r\n                resolve(name)\r\n            })\r\n        })\r\n    },\r\n    //获得合约标识\r\n    symbol(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.symbol().call().then(function(symbol) {\r\n                resolve(symbol)\r\n            })\r\n        })\r\n    },\r\n    //查询余额\r\n    checkBalance(){\r\n        return new Promise((resolve, reject) => {\r\n            this.owner().then(function (owner) {\r\n                if(window.defaultAccount === owner){\r\n                    window.MyContract.methods.checkBalance().call({from:window.defaultAccount}).then(function(balance) {\r\n                        resolve(window.web3.utils.fromWei(balance,'ether'))\r\n                    })\r\n                }else{\r\n                    reject('You are not contract owner')\r\n                }\r\n            })\r\n        })\r\n    },\r\n    //设置攻击胜率\r\n    // setAttackVictoryProbability(_attackVictoryProbability){\r\n    //     return new Promise((resolve, reject) => {\r\n    //         window.MyContract.methods.setAttackVictoryProbability(_attackVictoryProbability).send({from:window.defaultAccount})\r\n    //         .then(function(result) {\r\n    //             resolve(result)\r\n    //         })\r\n    //     })\r\n    // },\r\n    //获得升级费\r\n    levelUpFee(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.levelUpFee().call().then(function(levelUpFee) {\r\n                resolve(window.web3.utils.fromWei(levelUpFee,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //设置升级费\r\n    setLevelUpFee(_fee){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setLevelUpFee(window.web3.utils.toWei(_fee.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //设置最低售价\r\n    setMinPrice(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setMinPrice(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //获得僵尸售价\r\n    patronusPrice(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.catPrice().call().then(function(patronusPrice) {\r\n                resolve(window.web3.utils.fromWei(patronusPrice,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //设置僵尸售价\r\n    setPatronusPrice(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setCatPrice(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //设置税金\r\n    setTax(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setTax(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //提款\r\n    withdraw(){\r\n        return new Promise((resolve, reject) => {\r\n            this.owner().then(function (owner) {\r\n                if(window.defaultAccount === owner){\r\n                    window.MyContract.methods.withdraw().send({from:window.defaultAccount}).then(function(res) {\r\n                        resolve(res)\r\n                    })\r\n                }else{\r\n                    reject('You are not contract owner')\r\n                }\r\n            })\r\n        })\r\n    },\r\n    //新僵尸事件\r\n    EventNewPatronus(){\r\n        return window.MyContract.events.NewCat({},{fromBlock: 0, toBlock: 'latest'})\r\n    },\r\n    //出售僵尸事件\r\n    EventSalePatronus(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.events.SaleCat({fromBlock: 0, toBlock: 'latest'},function (error, event) {\r\n                resolve(event)\r\n            })\r\n        })\r\n    },\r\n    //所有事件\r\n    allEvents(){\r\n        window.MyContract.events.allEvents({fromBlock: 0}, function(error, event){\r\n            console.log({allEvents:event})\r\n        }).on(\"connected\", function(subscriptionId){\r\n           console.log({connected_subscriptionId:subscriptionId})\r\n        }).on('data', function(event){\r\n           console.log({event_data:event})\r\n        }).on('changed', function(event){\r\n            console.log({event_changed:event})\r\n        }).on('error', function(error, receipt) { \r\n            console.log({event_error:error,receipt:receipt})\r\n        })\r\n    }\r\n}\r\n    \r\nexport default MyWeb3;"],"mappings":"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"},"metadata":{},"sourceType":"module"}